<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Game Hứng Bóng Đơn Giản</title>
    <style>
        body { text-align: center; background: #222; color: white; font-family: sans-serif; }
        canvas { background: #000; display: block; margin: 20px auto; border: 3px solid #fff; }
        h1 { margin-top: 20px; }
    </style>
</head>
<body>

    <h1>Trò chơi: Hứng Bóng</h1>
    <p>Sử dụng phím <b>Mũi tên Trái/Phải</b> để di chuyển</p>
    <canvas id="gameCanvas" width="400" height="500"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Khởi tạo thông số
        let score = 0;
        let x = canvas.width / 2; // Vị trí thanh ngang
        const paddleWidth = 80;
        const paddleHeight = 10;
        let paddleX = (canvas.width - paddleWidth) / 2;

        let ballX = Math.random() * canvas.width;
        let ballY = 0;
        let ballSpeed = 3;

        // Xử lý điều khiển
        let rightPressed = false;
        let leftPressed = false;

        document.addEventListener("keydown", (e) => {
            if(e.key === "Right" || e.key === "ArrowRight") rightPressed = true;
            if(e.key === "Left" || e.key === "ArrowLeft") leftPressed = true;
        });
        document.addEventListener("keyup", (e) => {
            if(e.key === "Right" || e.key === "ArrowRight") rightPressed = false;
            if(e.key === "Left" || e.key === "ArrowLeft") leftPressed = false;
        });

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Xóa khung hình cũ

            // Vẽ bóng
            ctx.beginPath();
            ctx.arc(ballX, ballY, 10, 0, Math.PI * 2);
            ctx.fillStyle = "#ff4757";
            ctx.fill();
            ctx.closePath();

            // Vẽ thanh hứng
            ctx.beginPath();
            ctx.rect(paddleX, canvas.height - paddleHeight, paddleWidth, paddleHeight);
            ctx.fillStyle = "#2ed573";
            ctx.fill();
            ctx.closePath();

            // Vẽ điểm số
            ctx.font = "16px Arial";
            ctx.fillStyle = "#fff";
            ctx.fillText("Điểm: " + score, 8, 20);

            // Di chuyển bóng
            ballY += ballSpeed;

            // Kiểm tra va chạm
            if (ballY + 10 > canvas.height) {
                if (ballX > paddleX && ballX < paddleX + paddleWidth) {
                    score++;
                    ballY = 0;
                    ballX = Math.random() * canvas.width;
                    ballSpeed += 0.2; // Tăng độ khó
                } else {
                    alert("THUA RỒI! Điểm của bạn: " + score);
                    document.location.reload();
                }
            }

            // Di chuyển thanh ngang
            if (rightPressed && paddleX < canvas.width - paddleWidth) paddleX += 7;
            if (leftPressed && paddleX > 0) paddleX -= 7;

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>
